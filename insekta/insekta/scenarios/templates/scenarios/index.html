{% extends 'base.html' %}
{% load i18n %}
{% load scenario_progress %}

{% block title %}{% trans 'Topics' %}{% endblock %}

{% block content %}
{% if is_challenge %}
<h2>{% trans 'Challenges' %}</h2>

<p class="alert alert-warning">{% blocktrans %}Challenges provide no explanations and are therefore not suitable to learn new topics. Anyway, feel free to try them.{% endblocktrans %}</p>
{% else %}
<h2>{%  trans 'Topics' %}</h2>
{% endif %}

{% for scenario_group in scenario_groups %}
{% if scenario_group.scenarios %}
<h3>{{ scenario_group.title }}</h3>

<table class="table table-striped">
<thead>
    <tr>
        <th>{% trans 'Topic' %}</th>
        <th style="width:200px">{% trans 'Solved exercises' %}</th>
    </tr>
</thead>
<tbody>
{% for scenario in scenario_group.scenarios %}
<tr>
    <td><a href="{% url 'scenarios:view' scenario.key %}">{{ scenario.title }}</a></td>
    <td>
        {% scenario_progress scenario.num_tasks_solved scenario.num_tasks %}
        &nbsp;<small>({{ scenario.num_tasks_solved }}/{{ scenario.num_tasks }})</small>
    </td>
</tr>
{% endfor %}
</tbody>
</table>
{% endif %}
{% endfor %}

{% endblock content %}